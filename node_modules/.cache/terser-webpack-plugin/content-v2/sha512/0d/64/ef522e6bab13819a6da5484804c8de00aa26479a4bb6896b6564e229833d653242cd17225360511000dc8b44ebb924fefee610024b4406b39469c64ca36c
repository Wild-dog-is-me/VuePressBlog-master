{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{299:function(s,a,e){\"use strict\";e.r(a);var n=e(10),t=Object(n.a)({},(function(){var s=this,a=s._self._c;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[a(\"h1\",{attrs:{id:\"一、mybatis-plus\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#一、mybatis-plus\"}},[s._v(\"#\")]),s._v(\" 一、MyBatis-Plus\")]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_1-简介\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-简介\"}},[s._v(\"#\")]),s._v(\" 1.简介\")]),s._v(\" \"),a(\"p\",[s._v(\"mybatis-plus是一款mybatis的增强工具，在基础上只增强，不做改变，为简化开发，提升效率而生。\")]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_2-特征\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-特征\"}},[s._v(\"#\")]),s._v(\" 2.特征\")]),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"strong\",[s._v(\"无侵入\")]),s._v(\"：只做增强不做改变，引入它不会对现有工程产生影响，如丝般顺滑\")]),s._v(\" \"),a(\"li\",[a(\"strong\",[s._v(\"损耗小\")]),s._v(\"：启动即会 自动注入基本 CURD，性能基本无损耗，直接面向对象操作\")]),s._v(\" \"),a(\"li\",[a(\"strong\",[s._v(\"强大的 CRUD 操作\")]),s._v(\"：内置通用 Mapper、通用 Service，仅仅通过少量配置即可实现单表大部分 CRUD 操作，更有强大的条件构造器，满足各类使用需求\")]),s._v(\" \"),a(\"li\",[a(\"strong\",[s._v(\"支持 Lambda 形式调用\")]),s._v(\"：通过 Lambda 表达式，方便的编写各类查询条件，无需再担心字段写错\")]),s._v(\" \"),a(\"li\",[a(\"strong\",[s._v(\"支持主键自动生成\")]),s._v(\"：支持多达 4 种主键策略（内含分布式唯一 ID 生成器 - Sequence），可自由配置，完美解决主键问题\")]),s._v(\" \"),a(\"li\",[a(\"strong\",[s._v(\"支持 ActiveRecord 模式\")]),s._v(\"：支持 ActiveRecord 形式调用，实体类只需继承 Model 类即可进行强大的 CRUD 操作\")]),s._v(\" \"),a(\"li\",[a(\"strong\",[s._v(\"支持自定义全局通用操作\")]),s._v(\"：支持全局通用方法注入（ Write once, use anywhere ）\")]),s._v(\" \"),a(\"li\",[a(\"strong\",[s._v(\"内置代码生成器\")]),s._v(\"：采用代码或者 Maven 插件可快速生成 Mapper 、 Model 、 Service 、 Controller 层代码，支持模板引擎，更有超多自定义配置等您来使用\")]),s._v(\" \"),a(\"li\",[a(\"strong\",[s._v(\"内置分页插件\")]),s._v(\"：基于 MyBatis 物理分页，开发者无需关心具体操作，配置好插件之后，写分页等同于普通 List 查询\")]),s._v(\" \"),a(\"li\",[a(\"strong\",[s._v(\"分页插件支持多种数据库\")]),s._v(\"：支持 MySQL、MariaDB、Oracle、DB2、H2、HSQL、SQLite、Postgre、SQLServer 等多种数据库\")]),s._v(\" \"),a(\"li\",[a(\"strong\",[s._v(\"内置性能分析插件\")]),s._v(\"：可输出 Sql 语句以及其执行时间，建议开发测试时启用该功能，能快速揪出慢查询\")]),s._v(\" \"),a(\"li\",[a(\"strong\",[s._v(\"内置全局拦截插件\")]),s._v(\"：提供全表 delete 、 update 操作智能分析阻断，也可自定义拦截规则，预防误操作\")])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_3-支持数据库\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-支持数据库\"}},[s._v(\"#\")]),s._v(\" 3.支持数据库\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"任何能使用 \"),a(\"code\",[s._v(\"MyBatis\")]),s._v(\" 进行 CRUD, 并且支持标准 SQL 的数据库，具体支持情况如下，如果不在下列表查看分页部分教程 PR 您的支持。\")])]),s._v(\" \"),a(\"ul\",[a(\"li\",[s._v(\"MySQL，Oracle，DB2，H2，HSQL，SQLite，PostgreSQL，SQLServer，Phoenix，Gauss ，ClickHouse，Sybase，OceanBase，Firebird，Cubrid，Goldilocks，csiidb\")]),s._v(\" \"),a(\"li\",[s._v(\"达梦数据库，虚谷数据库，人大金仓数据库，南大通用(华库)数据库，南大通用数据库，神通数据库，瀚高数据库\")])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_4-框架结构\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-框架结构\"}},[s._v(\"#\")]),s._v(\" 4.框架结构\")]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62be5e351d64b0706674de88.jpg\",alt:\"framework\"}})]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_5-官方地址\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-官方地址\"}},[s._v(\"#\")]),s._v(\" 5.官方地址\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"官方网站\")]),s._v(\"：https://baomidou.com/\")]),s._v(\" \"),a(\"p\",[a(\"strong\",[s._v(\"官方文档\")]),s._v(\"：https://baomidou.com/pages/24112f/\")])]),s._v(\" \"),a(\"h1\",{attrs:{id:\"二、入门案例\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#二、入门案例\"}},[s._v(\"#\")]),s._v(\" 二、入门案例\")]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_1-开发环境\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-开发环境\"}},[s._v(\"#\")]),s._v(\" 1.开发环境\")]),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"strong\",[s._v(\"IDE：IDEA 2019.3.5\")])]),s._v(\" \"),a(\"li\",[a(\"strong\",[s._v(\"JDK：JDK8+\")])]),s._v(\" \"),a(\"li\",[a(\"strong\",[s._v(\"构建工具：Maven 3.5.4\")])]),s._v(\" \"),a(\"li\",[a(\"strong\",[s._v(\"MySQL：MySQL 8.0.24\")])]),s._v(\" \"),a(\"li\",[a(\"strong\",[s._v(\"Navicat：Navicat Premium 15\")])]),s._v(\" \"),a(\"li\",[a(\"strong\",[s._v(\"Spring Boot：2.6.7\")])]),s._v(\" \"),a(\"li\",[a(\"strong\",[s._v(\"MyBatis-Plus：3.5.1\")])])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_2-建库建表\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-建库建表\"}},[s._v(\"#\")]),s._v(\" 2.建库建表\")]),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"打开Navicat运行以下SQL脚本进行建库建表\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"CREATE DATABASE `mybatis_plus` /*!40100 DEFAULT CHARACTER SET utf8mb4 */; \\nuse `mybatis_plus`; \\nCREATE TABLE `user` ( \\n    `id` bigint(20) NOT NULL COMMENT '主键ID', \\n    `name` varchar(30) DEFAULT NULL COMMENT '姓名', \\n    `age` int(11) DEFAULT NULL COMMENT '年龄', \\n    `email` varchar(50) DEFAULT NULL COMMENT '邮箱', \\n    PRIMARY KEY (`id`) \\n) ENGINE=InnoDB DEFAULT CHARSET=utf8;\\nsql\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"插入几条测试数据\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"INSERT INTO user (id, name, age, email) VALUES \\n(1, 'Jone', 18, 'test1@baomidou.com'), \\n(2, 'Jack', 20, 'test2@baomidou.com'), \\n(3, 'Tom', 28, 'test3@baomidou.com'), \\n(4, 'Sandy', 21, 'test4@baomidou.com'), \\n(5, 'Billie', 24, 'test5@baomidou.com');\\nsql\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\")])])])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_3-创建工程\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-创建工程\"}},[s._v(\"#\")]),s._v(\" 3.创建工程\")]),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"使用\"),a(\"code\",[s._v(\"Spring Initializer\")]),s._v(\"快速初始化一个 Spring Boot 工程\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"引入\"),a(\"code\",[s._v(\"MyBatis-Plus\")]),s._v(\"的依赖\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"<dependency>\\n    <groupId>com.baomidou</groupId>\\n    <artifactId>mybatis-plus-boot-starter</artifactId>\\n    <version>3.5.1</version>\\n</dependency>\\nxml\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"安装\"),a(\"code\",[s._v(\"Lombok\")]),s._v(\"插件\")])])])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_4-配置编码\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-配置编码\"}},[s._v(\"#\")]),s._v(\" 4.配置编码\")]),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"配置\"),a(\"code\",[s._v(\"application.yml\")]),s._v(\"文件\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"#配置端口\\nserver:\\n  port: 80\\n\\nspring:\\n  #配置数据源\\n  datasource:\\n    #配置数据源类型\\n    type: com.zaxxer.hikari.HikariDataSource\\n    #配置连接数据库的信息\\n    driver-class-name: com.mysql.cj.jdbc.Driver\\n    url: jdbc:mysql://localhost:3306/mybatis_plus?characterEncoding=utf-8&useSSL=false\\n    username: {username}\\n    password: {password}\\n\\n#MyBatis-Plus相关配置\\nmybatis-plus:\\n  configuration:\\n    #配置日志\\n    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl\\nyml\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"19\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"20\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"21\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"在 Spring Boot 启动类中添加 \"),a(\"code\",[s._v(\"@MapperScan\")]),s._v(\" 注解，扫描 Mapper 文件夹\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('@SpringBootApplication\\n@MapperScan(\"指定Mapper接口所在的包\")\\npublic class MybatisPlusDemoApplication {\\n\\tpublic static void main(String[] args) {\\n\\t\\tSpringApplication.run(MybatisPlusDemoApplication.class, args);\\n\\t}\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"编写实体类 \"),a(\"code\",[s._v(\"User.java\")]),s._v(\"（此处使用了 Lombok 简化代码）\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"@Data\\npublic class User {\\n    private Long id;\\n    private String name;\\n    private Integer age;\\n    private String email;\\n}\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"编写 Mapper 包下的 \"),a(\"code\",[s._v(\"UserMapper\")]),s._v(\"接口\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"public interface UserMapper extends BaseMapper<User> {}\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\")])])])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_5-测试查询\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-测试查询\"}},[s._v(\"#\")]),s._v(\" 5.测试查询\")]),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"编写一个测试类\"),a(\"code\",[s._v(\"MyBatisPlusTest.java\")])])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"@SpringBootTest\\npublic class MyBatisPlusTest {\\n    @Resource\\n    private UserMapper userMapper;\\n\\n    /**\\n     * 测试查询所有数据\\n     */\\n    @Test\\n    void testSelectList(){\\n        //通过条件构造器查询一个list集合，若没有条件，则可以设置null为参数\\n        List<User> users = userMapper.selectList(null);\\n        users.forEach(System.out::println);\\n    }\\n}\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"控制台打印查询结果\")])]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62bfe6d55be16ec74a0f750a.png\",alt:\"image-20220519150454211\"}})])])]),s._v(\" \"),a(\"h1\",{attrs:{id:\"三、增删改查\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#三、增删改查\"}},[s._v(\"#\")]),s._v(\" 三、增删改查\")]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_1-basemapper\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-basemapper\"}},[s._v(\"#\")]),s._v(\" 1.BaseMapper\"),a(\"T\")],1),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"说明:\")]),s._v(\" \"),a(\"p\",[s._v(\"通用 CRUD 封装BaseMapper 接口，为 \"),a(\"code\",[s._v(\"Mybatis-Plus\")]),s._v(\" 启动时自动解析实体表关系映射转换为 \"),a(\"code\",[s._v(\"Mybatis\")]),s._v(\" 内部对象注入容器\")]),s._v(\" \"),a(\"p\",[s._v(\"泛型 \"),a(\"code\",[s._v(\"T\")]),s._v(\" 为任意实体对象\")]),s._v(\" \"),a(\"p\",[s._v(\"参数 \"),a(\"code\",[s._v(\"Serializable\")]),s._v(\" 为任意类型主键 \"),a(\"code\",[s._v(\"Mybatis-Plus\")]),s._v(\" 不推荐使用复合主键约定每一张表都有自己的唯一 \"),a(\"code\",[s._v(\"id\")]),s._v(\" 主键\")]),s._v(\" \"),a(\"p\",[s._v(\"对象 \"),a(\"code\",[s._v(\"Wrapper\")]),s._v(\" 为条件构造器\")])]),s._v(\" \"),a(\"p\",[s._v(\"MyBatis-Plus中的基本CRUD在内置的BaseMapper中都已得到了实现，因此我们继承该接口以后可以直接使用。\")]),s._v(\" \"),a(\"p\",[s._v(\"本次演示的CRUD操作不包含参数带有条件构造器的方法，关于条件构造器将单独在一个章节进行演示。\")]),s._v(\" \"),a(\"hr\"),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"BaseMapper中提供的CRUD方法：\")])])]),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"增加：Insert\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"// 插入一条记录\\nint insert(T entity);\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"删除：Delete\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"// 根据 entity 条件，删除记录\\nint delete(@Param(Constants.WRAPPER) Wrapper<T> wrapper);\\n// 删除（根据ID 批量删除）\\nint deleteBatchIds(@Param(Constants.COLLECTION) Collection<? extends Serializable> idList);\\n// 根据 ID 删除\\nint deleteById(Serializable id);\\n// 根据 columnMap 条件，删除记录\\nint deleteByMap(@Param(Constants.COLUMN_MAP) Map<String, Object> columnMap);\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"修改：Update\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"// 根据 whereWrapper 条件，更新记录\\nint update(@Param(Constants.ENTITY) T updateEntity, @Param(Constants.WRAPPER) Wrapper<T> whereWrapper);\\n// 根据 ID 修改\\nint updateById(@Param(Constants.ENTITY) T entity);\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"查询：Selete\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"// 根据 ID 查询\\nT selectById(Serializable id);\\n// 根据 entity 条件，查询一条记录\\nT selectOne(@Param(Constants.WRAPPER) Wrapper<T> queryWrapper);\\n\\n// 查询（根据ID 批量查询）\\nList<T> selectBatchIds(@Param(Constants.COLLECTION) Collection<? extends Serializable> idList);\\n// 根据 entity 条件，查询全部记录\\nList<T> selectList(@Param(Constants.WRAPPER) Wrapper<T> queryWrapper);\\n// 查询（根据 columnMap 条件）\\nList<T> selectByMap(@Param(Constants.COLUMN_MAP) Map<String, Object> columnMap);\\n// 根据 Wrapper 条件，查询全部记录\\nList<Map<String, Object>> selectMaps(@Param(Constants.WRAPPER) Wrapper<T> queryWrapper);\\n// 根据 Wrapper 条件，查询全部记录。注意： 只返回第一个字段的值\\nList<Object> selectObjs(@Param(Constants.WRAPPER) Wrapper<T> queryWrapper);\\n\\n// 根据 entity 条件，查询全部记录（并翻页）\\nIPage<T> selectPage(IPage<T> page, @Param(Constants.WRAPPER) Wrapper<T> queryWrapper);\\n// 根据 Wrapper 条件，查询全部记录（并翻页）\\nIPage<Map<String, Object>> selectMapsPage(IPage<T> page, @Param(Constants.WRAPPER) Wrapper<T> queryWrapper);\\n// 根据 Wrapper 条件，查询总记录数\\nInteger selectCount(@Param(Constants.WRAPPER) Wrapper<T> queryWrapper);\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"19\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"20\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"21\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"22\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"23\")]),a(\"br\")])])])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_2-调用mapper层实现crud\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-调用mapper层实现crud\"}},[s._v(\"#\")]),s._v(\" 2.调用Mapper层实现CRUD\")]),s._v(\" \"),a(\"h3\",{attrs:{id:\"_2-1-插入\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-1-插入\"}},[s._v(\"#\")]),s._v(\" 2.1 插入\")]),s._v(\" \"),a(\"hr\"),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"最终执行的结果，所获取的id为1527206783590903810\")])]),s._v(\" \"),a(\"p\",[a(\"strong\",[s._v(\"这是因为MyBatis-Plus在实现插入数据时，会默认基于雪花算法的策略生成id\")])])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('/**\\n  * 测试插入一条数据\\n  * MyBatis-Plus在实现插入数据时，会默认基于雪花算法的策略生成id\\n  */\\n@Test\\npublic void testInsert(){\\n    User user = new User();\\n    user.setName(\"Vz\");\\n    user.setAge(21);\\n    user.setEmail(\"vz@oz6.cn\");\\n    int result = userMapper.insert(user);\\n    System.out.println(result > 0 ? \"添加成功！\" : \"添加失败！\");\\n    System.out.println(\"受影响的行数为：\" + result);\\n    //1527206783590903810（当前 id 为雪花算法自动生成的id）\\n    System.out.println(\"id自动获取\" + user.getId());\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),a(\"br\")])]),a(\"h3\",{attrs:{id:\"_2-2-删除\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-2-删除\"}},[s._v(\"#\")]),s._v(\" 2.2 删除\")]),s._v(\" \"),a(\"hr\"),s._v(\" \"),a(\"h4\",{attrs:{id:\"a、根据id删除数据\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#a、根据id删除数据\"}},[s._v(\"#\")]),s._v(\" a、根据ID删除数据\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"调用方法：int deleteById(Serializable id);\")])])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('/**\\n  * 测试根据id删除一条数据\\n  */\\n@Test\\npublic void testDeleteById(){\\n    int result = userMapper.deleteById(1527206783590903810L);\\n    System.out.println(result > 0 ? \"删除成功！\" : \"删除失败！\");\\n    System.out.println(\"受影响的行数为：\" + result);\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\")])]),a(\"h4\",{attrs:{id:\"b、根据id批量删除数据\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#b、根据id批量删除数据\"}},[s._v(\"#\")]),s._v(\" b、根据ID批量删除数据\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"调用方法：int deleteBatchIds(@Param(Constants.COLLECTION) Collection<? extends Serializable> idList);\")])])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('/**\\n  * 测试通过id批量删除数据\\n  */\\n@Test\\npublic void testDeleteBatchIds(){\\n    List<Long> ids = Arrays.asList(6L,7L,8L);\\n    int result = userMapper.deleteBatchIds(ids);\\n    System.out.println(result > 0 ? \"删除成功！\" : \"删除失败！\");\\n    System.out.println(\"受影响的行数为：\" + result);\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\")])]),a(\"h4\",{attrs:{id:\"c、根据map条件删除数据\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#c、根据map条件删除数据\"}},[s._v(\"#\")]),s._v(\" c、根据Map条件删除数据\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"调用方法：int deleteByMap(@Param(Constants.COLUMN_MAP) Map<String, Object> columnMap);\")])])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('/**\\n   * 测试根据Map集合中所设置的条件删除数据\\n   */\\n@Test\\npublic void testDeleteByMap(){\\n    //当前演示为根据name和age删除数据\\n    //执行SQL为：DELETE FROM user WHERE name = ? AND age = ?\\n    Map<String,Object> map = new HashMap<>();\\n    map.put(\"name\",\"Vz\");\\n    map.put(\"age\",21);\\n    int result = userMapper.deleteByMap(map);\\n    System.out.println(result > 0 ? \"删除成功！\" : \"删除失败！\");\\n    System.out.println(\"受影响的行数为：\" + result);\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),a(\"br\")])]),a(\"h3\",{attrs:{id:\"_2-3-修改\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-3-修改\"}},[s._v(\"#\")]),s._v(\" 2.3 修改\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"调用方法：int updateById(@Param(Constants.ENTITY) T entity);\")])])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('/**\\n  * 测试根据id修改用户信息\\n  */\\n@Test\\npublic void testUpdateById(){\\n    //执行SQL为： UPDATE user SET name=?, age=?, email=? WHERE id=?\\n    User user = new User();\\n    user.setId(6L);\\n    user.setName(\"VzUpdate\");\\n    user.setAge(18);\\n    user.setEmail(\"Vz@sina.com\");\\n    int result = userMapper.updateById(user);\\n    System.out.println(result > 0 ? \"修改成功！\" : \"修改失败！\");\\n    System.out.println(\"受影响的行数为：\" + result);\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),a(\"br\")])]),a(\"h3\",{attrs:{id:\"_2-4-查询\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-4-查询\"}},[s._v(\"#\")]),s._v(\" 2.4 查询\")]),s._v(\" \"),a(\"hr\"),s._v(\" \"),a(\"h4\",{attrs:{id:\"a、根据id查询用户信息\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#a、根据id查询用户信息\"}},[s._v(\"#\")]),s._v(\" a、根据ID查询用户信息\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"调用方法：T selectById(Serializable id);\")])])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"/**\\n  * 测试根据id查询用户数据\\n  */\\n@Test\\npublic void testSelectById(){\\n    User user = userMapper.selectById(1L);\\n    System.out.println(user);\\n}\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\")])]),a(\"h4\",{attrs:{id:\"b、根据多个id查询多个用户信息\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#b、根据多个id查询多个用户信息\"}},[s._v(\"#\")]),s._v(\" b、根据多个ID查询多个用户信息\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"调用方法：List selectBatchIds(@Param(Constants.COLLECTION) Collection<? extends Serializable> idList);\")])])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"/**\\n  * 根据多个id查询用户数据\\n  */\\n@Test\\npublic void testSelectBatchIds(){\\n    //执行SQL为：SELECT id,name,age,email FROM user WHERE id IN ( ? , ? , ? )\\n    List<Long> ids = Arrays.asList(1L,2L,3L);\\n    List<User> users = userMapper.selectBatchIds(ids);\\n    users.forEach(System.out::println);\\n}\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\")])]),a(\"h4\",{attrs:{id:\"c、根据map条件查询用户信息\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#c、根据map条件查询用户信息\"}},[s._v(\"#\")]),s._v(\" c、根据Map条件查询用户信息\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"调用方法：List selectByMap(@Param(Constants.COLUMN_MAP) Map<String, Object> columnMap);\")])])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('/**\\n  * 根据Map所设置的条件查询用户\\n  */\\n@Test\\npublic void testSelectByMap(){\\n    //执行SQL为：SELECT id,name,age,email FROM user WHERE age = ?\\n    Map<String,Object> map = new HashMap<>();\\n    map.put(\"age\",18);\\n    List<User> users = userMapper.selectByMap(map);\\n    users.forEach(System.out::println);\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\")])]),a(\"h4\",{attrs:{id:\"d、查询所有用户信息\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#d、查询所有用户信息\"}},[s._v(\"#\")]),s._v(\" d、查询所有用户信息\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"调用方法：List selectList(@Param(Constants.WRAPPER) Wrapper queryWrapper);\")])])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"/**\\n  * 测试查询所有数据\\n  */\\n@Test\\nvoid testSelectList(){\\n    List<User> users = userMapper.selectList(null);\\n    users.forEach(System.out::println);\\n}\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\")])]),a(\"h2\",{attrs:{id:\"_3-通用service\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-通用service\"}},[s._v(\"#\")]),s._v(\" 3.通用Service\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"说明:\")]),s._v(\" \"),a(\"p\",[s._v(\"通用 Service CRUD 封装\"),a(\"code\",[s._v(\"IService\")]),s._v(\"接口，进一步封装 CRUD 采用 \"),a(\"code\",[s._v(\"get 查询单行\")]),s._v(\" \"),a(\"code\",[s._v(\"remove 删除\")]),s._v(\" \"),a(\"code\",[s._v(\"list 查询集合\")]),s._v(\" \"),a(\"code\",[s._v(\"page 分页\")]),s._v(\" 前缀命名方式区分 \"),a(\"code\",[s._v(\"Mapper\")]),s._v(\" 层避免混淆\")]),s._v(\" \"),a(\"p\",[s._v(\"泛型 \"),a(\"code\",[s._v(\"T\")]),s._v(\" 为任意实体对象\")]),s._v(\" \"),a(\"p\",[s._v(\"建议如果存在自定义通用 Service 方法的可能，请创建自己的 \"),a(\"code\",[s._v(\"IBaseService\")]),s._v(\" 继承 \"),a(\"code\",[s._v(\"Mybatis-Plus\")]),s._v(\" 提供的基类\")]),s._v(\" \"),a(\"p\",[s._v(\"对象 \"),a(\"code\",[s._v(\"Wrapper\")]),s._v(\" 为 条件构造器\")])]),s._v(\" \"),a(\"p\",[s._v(\"MyBatis-Plus中有一个接口 \"),a(\"code\",[s._v(\"IService\")]),s._v(\"和其实现类 \"),a(\"code\",[s._v(\"ServiceImpl\")]),s._v(\"，封装了常见的业务层逻辑，详情查看源码IService和ServiceImpl\")]),s._v(\" \"),a(\"p\",[s._v(\"因此我们在使用的时候仅需在自己定义的\"),a(\"code\",[s._v(\"Service\")]),s._v(\"接口中继承\"),a(\"code\",[s._v(\"IService\")]),s._v(\"接口，在自己的实现类中实现自己的Service并继承\"),a(\"code\",[s._v(\"ServiceImpl\")]),s._v(\"即可\")]),s._v(\" \"),a(\"hr\"),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"IService中的CRUD方法\")])])]),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"增加：Save、SaveOrUpdate\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"// 插入一条记录（选择字段，策略插入）\\nboolean save(T entity);\\n// 插入（批量）\\nboolean saveBatch(Collection<T> entityList);\\n// 插入（批量）\\nboolean saveBatch(Collection<T> entityList, int batchSize);\\n\\n// TableId 注解存在更新记录，否插入一条记录\\nboolean saveOrUpdate(T entity);\\n// 根据updateWrapper尝试更新，否继续执行saveOrUpdate(T)方法\\nboolean saveOrUpdate(T entity, Wrapper<T> updateWrapper);\\n// 批量修改插入\\nboolean saveOrUpdateBatch(Collection<T> entityList);\\n// 批量修改插入\\nboolean saveOrUpdateBatch(Collection<T> entityList, int batchSize);\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"删除：Remove\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"// 根据 entity 条件，删除记录\\nboolean remove(Wrapper<T> queryWrapper);\\n// 根据 ID 删除\\nboolean removeById(Serializable id);\\n// 根据 columnMap 条件，删除记录\\nboolean removeByMap(Map<String, Object> columnMap);\\n// 删除（根据ID 批量删除）\\nboolean removeByIds(Collection<? extends Serializable> idList);\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"修改：Update\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"// 根据 UpdateWrapper 条件，更新记录 需要设置sqlset\\nboolean update(Wrapper<T> updateWrapper);\\n// 根据 whereWrapper 条件，更新记录\\nboolean update(T updateEntity, Wrapper<T> whereWrapper);\\n// 根据 ID 选择修改\\nboolean updateById(T entity);\\n// 根据ID 批量更新\\nboolean updateBatchById(Collection<T> entityList);\\n// 根据ID 批量更新\\nboolean updateBatchById(Collection<T> entityList, int batchSize);\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"查询：Get、List、Count\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('// 根据 ID 查询\\nT getById(Serializable id);\\n// 根据 Wrapper，查询一条记录。结果集，如果是多个会抛出异常，随机取一条加上限制条件 wrapper.last(\"LIMIT 1\")\\nT getOne(Wrapper<T> queryWrapper);\\n// 根据 Wrapper，查询一条记录\\nT getOne(Wrapper<T> queryWrapper, boolean throwEx);\\n// 根据 Wrapper，查询一条记录\\nMap<String, Object> getMap(Wrapper<T> queryWrapper);\\n// 根据 Wrapper，查询一条记录\\n<V> V getObj(Wrapper<T> queryWrapper, Function<? super Object, V> mapper);\\n\\n\\n// 查询所有\\nList<T> list();\\n// 查询列表\\nList<T> list(Wrapper<T> queryWrapper);\\n// 查询（根据ID 批量查询）\\nCollection<T> listByIds(Collection<? extends Serializable> idList);\\n// 查询（根据 columnMap 条件）\\nCollection<T> listByMap(Map<String, Object> columnMap);\\n// 查询所有列表\\nList<Map<String, Object>> listMaps();\\n// 查询列表\\nList<Map<String, Object>> listMaps(Wrapper<T> queryWrapper);\\n// 查询全部记录\\nList<Object> listObjs();\\n// 查询全部记录\\n<V> List<V> listObjs(Function<? super Object, V> mapper);\\n// 根据 Wrapper 条件，查询全部记录\\nList<Object> listObjs(Wrapper<T> queryWrapper);\\n// 根据 Wrapper 条件，查询全部记录\\n<V> List<V> listObjs(Wrapper<T> queryWrapper, Function<? super Object, V> mapper);\\n\\n// 查询总记录数\\nint count();\\n// 根据 Wrapper 条件，查询总记录数\\nint count(Wrapper<T> queryWrapper);\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"19\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"20\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"21\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"22\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"23\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"24\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"25\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"26\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"27\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"28\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"29\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"30\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"31\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"32\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"33\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"34\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"35\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"36\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"37\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"38\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"分页：Page\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('// 根据 ID 查询\\nT getById(Serializable id);\\n// 根据 Wrapper，查询一条记录。结果集，如果是多个会抛出异常，随机取一条加上限制条件 wrapper.last(\"LIMIT 1\")\\nT getOne(Wrapper<T> queryWrapper);\\n// 根据 Wrapper，查询一条记录\\nT getOne(Wrapper<T> queryWrapper, boolean throwEx);\\n// 根据 Wrapper，查询一条记录\\nMap<String, Object> getMap(Wrapper<T> queryWrapper);\\n// 根据 Wrapper，查询一条记录\\n<V> V getObj(Wrapper<T> queryWrapper, Function<? super Object, V> mapper);\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\")])])])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_4-调用service层操作数据\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-调用service层操作数据\"}},[s._v(\"#\")]),s._v(\" 4.调用Service层操作数据\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"我们在自己的Service接口中通过继承MyBatis-Plus提供的IService接口，不仅可以获得其提供的CRUD方法，而且还可以使用自身定义的方法。\")])]),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"创建\"),a(\"code\",[s._v(\"UserService\")]),s._v(\"并继承\"),a(\"code\",[s._v(\"IService\")])])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"/**\\n  * UserService继承IService模板提供的基础功能 \\n  */\\npublic interface UserService extends IService<User> {}\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"创建\"),a(\"code\",[s._v(\"UserService\")]),s._v(\"的实现类并继承\"),a(\"code\",[s._v(\"ServiceImpl\")])])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"/**\\n  * ServiceImpl实现了IService，提供了IService中基础功能的实现 \\n  * 若ServiceImpl无法满足业务需求，则可以使用自定的UserService定义方法，并在实现类中实现\\n  */\\n@Service\\npublic class UserServiceImpl extends ServiceImpl<UserMapper,User> implements UserService{}\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"测试查询记录数\")])]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"调用方法：int count();\")])])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('@Test\\npublic void testGetCount(){\\n    //查询总记录数\\n    //执行的SQL为：SELECT COUNT( * ) FROM user\\n    long count = userService.count();\\n    System.out.println(\"总记录数：\" + count);\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"测试批量插入数据\")])]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"调用方法：boolean saveBatch(Collection entityList);\")])])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('@Test\\npublic void test(){\\n    List<User> list = new ArrayList<>();\\n    for (int i = 1; i <= 10; i++) {\\n        User user = new User();\\n        user.setName(\"Vz\"+i);\\n        user.setAge(20+i);\\n        list.add(user);\\n    }\\n    boolean b = userService.saveBatch(list);\\n    System.out.println(b ? \"添加成功！\" : \"添加失败！\");\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\")])])])]),s._v(\" \"),a(\"h1\",{attrs:{id:\"四、常用注解\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#四、常用注解\"}},[s._v(\"#\")]),s._v(\" 四、常用注解\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"MyBatis-Plus提供的注解可以帮我们解决一些数据库与实体之间相互映射的问题。\")])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_1-tablename\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-tablename\"}},[s._v(\"#\")]),s._v(\" 1.@TableName\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"经过以上的测试，在使用MyBatis-Plus实现基本的CRUD时，我们并没有指定要操作的表，只是在Mapper接口继承BaseMapper时，设置了泛型User，而操作的表为user表，由此得出结论，MyBatis-Plus在确定操作的表时，由BaseMapper的泛型决定，即实体类型决定，且默认操作的表名和实体类型的类名一致。\")])]),s._v(\" \"),a(\"h3\",{attrs:{id:\"_1-1-引出问题\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-1-引出问题\"}},[s._v(\"#\")]),s._v(\" 1.1 引出问题\")]),s._v(\" \"),a(\"hr\"),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"若实体类类型的类名和要操作的表的表名不一致，会出现什么问题？\")])])]),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[s._v(\"我们将表\"),a(\"code\",[s._v(\"user\")]),s._v(\"更名为\"),a(\"code\",[s._v(\"t_user\")]),s._v(\"，测试查询功能\")]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62bfe6d55be16ec74a0f7521.png\",alt:\"image-20220520093844842\"}})])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"程序抛出异常，\"),a(\"strong\",[s._v(\"Table ‘mybatis_plus.user’ doesn’t exist\")]),s._v(\"，因为现在的表名为\"),a(\"code\",[s._v(\"t_user\")]),s._v(\"，而默认操作的表名和实体类型的类名一致，即\"),a(\"code\",[s._v(\"user\")]),s._v(\"表\")]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62bfe6d65be16ec74a0f7733.png\",alt:\"image-20220520094126411\"}})])])]),s._v(\" \"),a(\"h3\",{attrs:{id:\"_1-2-解决问题\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-2-解决问题\"}},[s._v(\"#\")]),s._v(\" 1.2 解决问题\")]),s._v(\" \"),a(\"hr\"),s._v(\" \"),a(\"h4\",{attrs:{id:\"a、使用注解解决问题\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#a、使用注解解决问题\"}},[s._v(\"#\")]),s._v(\" a、使用注解解决问题\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"在实体类类型上添加\"),a(\"code\",[s._v('@TableName(\"t_user\")')]),s._v(\"，标识实体类对应的表，即可成功执行SQL语句\")])])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('@Data\\n@TableName(\"t_user\")\\npublic class User {\\n    private Long id;\\n    private String name;\\n    private Integer age;\\n    private String email;\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\")])]),a(\"h4\",{attrs:{id:\"b、使用全局配置解决问题\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#b、使用全局配置解决问题\"}},[s._v(\"#\")]),s._v(\" b、使用全局配置解决问题\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"在开发的过程中，我们经常遇到以上的问题，即实体类所对应的表都有固定的前缀，例如 \"),a(\"code\",[s._v(\"t_\")]),s._v(\" 或 \"),a(\"code\",[s._v(\"tbl_\")]),s._v(\" 此时，可以使用MyBatis-Plus提供的全局配置，为实体类所对应的表名设置默认的前缀，那么就不需要在每个实体类上通过@TableName标识实体类对应的表\")])])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"mybatis-plus:\\n  global-config:\\n    db-config:\\n      # 设置实体类所对应的表的统一前缀\\n      table-prefix: t_\\nyml\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\")])]),a(\"h2\",{attrs:{id:\"_2-tableid\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-tableid\"}},[s._v(\"#\")]),s._v(\" 2.@TableId\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"经过以上的测试，MyBatis-Plus在实现CRUD时，会默认将id作为主键列，并在插入数据时，默认基于雪花算法的策略生成id\")])])]),s._v(\" \"),a(\"h3\",{attrs:{id:\"_2-1-引出问题\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-1-引出问题\"}},[s._v(\"#\")]),s._v(\" 2.1 引出问题\")]),s._v(\" \"),a(\"hr\"),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"若实体类和表中表示主键的不是id，而是其他字段，例如uid，MyBatis-Plus会自动识别uid为主键列吗？\")])])]),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[s._v(\"我们实体类中的属性\"),a(\"code\",[s._v(\"id\")]),s._v(\"改为\"),a(\"code\",[s._v(\"uid\")]),s._v(\"，将表中的字段\"),a(\"code\",[s._v(\"id\")]),s._v(\"也改为\"),a(\"code\",[s._v(\"uid\")]),s._v(\"，测试添加功能\")]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62bfe6d65be16ec74a0f7728.png\",alt:\"image-20220520100939157\"}})]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62bfe6d65be16ec74a0f7717.png\",alt:\"image-20220520100715109\"}})])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"程序抛出异常，\"),a(\"strong\",[s._v(\"Field ‘uid’ doesn’t have a default value\")]),s._v(\"，说明MyBatis-Plus没有将\"),a(\"code\",[s._v(\"uid\")]),s._v(\"作为主键赋值\")]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62bfe6d65be16ec74a0f7785.png\",alt:\"image-20220520101317761\"}})])])]),s._v(\" \"),a(\"h3\",{attrs:{id:\"_2-2-解决问题\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-2-解决问题\"}},[s._v(\"#\")]),s._v(\" 2.2 解决问题\")]),s._v(\" \"),a(\"hr\"),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"在实体类中uid属性上通过\"),a(\"code\",[s._v(\"@TableId\")]),s._v(\"将其标识为主键，即可成功执行SQL语句\")])])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"@Date\\npublic class User {\\n    @TableId\\n    private Long uid;\\n    private String name;\\n    private Integer age;\\n    private String email;\\n}\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\")])]),a(\"h3\",{attrs:{id:\"_2-3-tableid的value属性\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-3-tableid的value属性\"}},[s._v(\"#\")]),s._v(\" 2.3 @TableId的value属性\")]),s._v(\" \"),a(\"hr\"),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"若实体类中主键对应的属性为id，而表中表示主键的字段为uid，此时若只在属性id上添加注解@TableId，则抛出异常\"),a(\"strong\",[s._v(\"Unknown column ‘id’ in ‘field list’\")]),s._v(\"，即MyBatis-Plus仍然会将id作为表的主键操作，而表中表示主键的是字段uid此时需要通过@TableId注解的value属性，指定表中的主键字段，\"),a(\"code\",[s._v('@TableId(\"uid\")')]),s._v(\"或\"),a(\"code\",[s._v('@TableId(value=\"uid\")')])])]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62bfe6d65be16ec74a0f783e.png\",alt:\"image-20220520103030977\"}})]),s._v(\" \"),a(\"h3\",{attrs:{id:\"_2-4-tableid的type属性\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-4-tableid的type属性\"}},[s._v(\"#\")]),s._v(\" 2.4 @TableId的type属性\")]),s._v(\" \"),a(\"hr\"),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"type属性用来定义主键策略：默认雪花算法\")])])]),s._v(\" \"),a(\"p\",[a(\"strong\",[s._v(\"常用的主键策略：\")])]),s._v(\" \"),a(\"table\",[a(\"thead\",[a(\"tr\",[a(\"th\",{staticStyle:{\"text-align\":\"center\"}},[s._v(\"值\")]),s._v(\" \"),a(\"th\",{staticStyle:{\"text-align\":\"center\"}},[s._v(\"描述\")])])]),s._v(\" \"),a(\"tbody\",[a(\"tr\",[a(\"td\",{staticStyle:{\"text-align\":\"center\"}},[s._v(\"IdType.ASSIGN_ID（默认）\")]),s._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"center\"}},[s._v(\"基于雪花算法的策略生成数据id，与数据库id是否设置自增无关\")])]),s._v(\" \"),a(\"tr\",[a(\"td\",{staticStyle:{\"text-align\":\"center\"}},[s._v(\"IdType.AUTO\")]),s._v(\" \"),a(\"td\",{staticStyle:{\"text-align\":\"center\"}},[s._v(\"使用数据库的自增策略，注意，该类型请确保数据库设置了id自增，\")])])])]),s._v(\" \"),a(\"p\",[a(\"strong\",[s._v(\"配置全局主键策略：\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"#MyBatis-Plus相关配置\\nmybatis-plus:\\n  configuration:\\n    #配置日志\\n    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl\\n  global-config:\\n    db-config:\\n      #配置mp的主键策略为自增\\n      id-type: auto\\n      # 设置实体类所对应的表的统一前缀\\n      table-prefix: t_\\nyml\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\")])]),a(\"h2\",{attrs:{id:\"_3-tbalefield\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-tbalefield\"}},[s._v(\"#\")]),s._v(\" 3.@TbaleField\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"经过以上的测试，我们可以发现，MyBatis-Plus在执行SQL语句时，要保证实体类中的属性名和表中的字段名一致\")]),s._v(\" \"),a(\"p\",[s._v(\"如果实体类中的属性名和字段名不一致的情况，会出现什么问题呢？\")])]),s._v(\" \"),a(\"h3\",{attrs:{id:\"_3-1-情况一\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-1-情况一\"}},[s._v(\"#\")]),s._v(\" 3.1 情况一\")]),s._v(\" \"),a(\"hr\"),s._v(\" \"),a(\"p\",[s._v(\"若实体类中的属性使用的是驼峰命名风格，而表中的字段使用的是下划线命名风格\")]),s._v(\" \"),a(\"p\",[s._v(\"例如实体类属性\"),a(\"code\",[s._v(\"userName\")]),s._v(\"，表中字段\"),a(\"code\",[s._v(\"user_name\")])]),s._v(\" \"),a(\"p\",[s._v(\"此时MyBatis-Plus会自动将下划线命名风格转化为驼峰命名风格\")]),s._v(\" \"),a(\"p\",[s._v(\"相当于在MyBatis中配置\")]),s._v(\" \"),a(\"h3\",{attrs:{id:\"_3-2-情况二\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-2-情况二\"}},[s._v(\"#\")]),s._v(\" 3.2 情况二\")]),s._v(\" \"),a(\"hr\"),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"若实体类中的属性和表中的字段不满足情况1\")]),s._v(\" \"),a(\"p\",[s._v(\"例如实体类属性\"),a(\"code\",[s._v(\"name\")]),s._v(\"，表中字段\"),a(\"code\",[s._v(\"username\")])]),s._v(\" \"),a(\"p\",[s._v(\"此时需要在实体类属性上使用\"),a(\"code\",[s._v('@TableField(\"username\")')]),s._v(\"设置属性所对应的字段名\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('public class User {\\n    @TableId(\"uid\")\\n    private Long id;\\n    @TableField(\"username\")\\n    private String name;\\n    private Integer age;\\n    private String email;\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\")])]),a(\"h2\",{attrs:{id:\"_4-tablelogic\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-tablelogic\"}},[s._v(\"#\")]),s._v(\" 4.@TableLogic\")]),s._v(\" \"),a(\"h3\",{attrs:{id:\"_4-1-逻辑删除\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-1-逻辑删除\"}},[s._v(\"#\")]),s._v(\" 4.1 逻辑删除\")]),s._v(\" \"),a(\"hr\"),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"物理删除：真实删除，将对应数据从数据库中删除，之后查询不到此条被删除的数据\")]),s._v(\" \"),a(\"p\",[s._v(\"逻辑删除：假删除，将对应数据中代表是否被删除字段的状态修改为“被删除状态”，之后在数据库中仍旧能看到此条数据记录\")]),s._v(\" \"),a(\"p\",[s._v(\"使用场景：可以进行数据恢复\")])]),s._v(\" \"),a(\"h3\",{attrs:{id:\"_4-2-实现逻辑删除\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-2-实现逻辑删除\"}},[s._v(\"#\")]),s._v(\" 4.2 实现逻辑删除\")]),s._v(\" \"),a(\"hr\"),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"数据库中创建逻辑删除状态列，设置默认值为0\")])]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62bfe6d65be16ec74a0f7855.png\",alt:\"image-20220520134529809\"}})])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"实体类中添加逻辑删除属性\")])]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62bfe6d75be16ec74a0f78ed.png\",alt:\"image-20220520134636112\"}})])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"测试删除功能，真正执行的是修改\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('public void testDeleteById(){\\n    int result = userMapper.deleteById(1527472864163348482L);\\n    System.out.println(result > 0 ? \"删除成功！\" : \"删除失败！\");\\n    System.out.println(\"受影响的行数为：\" + result);\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\")])]),a(\"p\",[a(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62bfe6d75be16ec74a0f788e.png\",alt:\"image-20220520135637388\"}})])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"此时执行查询方法，查询的结果为自动添加条件\"),a(\"code\",[s._v(\"is_deleted=0\")])])]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62bfe6d75be16ec74a0f78e8.png\",alt:\"image-20220520140036445\"}})])])]),s._v(\" \"),a(\"h1\",{attrs:{id:\"五、条件构造器\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#五、条件构造器\"}},[s._v(\"#\")]),s._v(\" 五、条件构造器\")]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_1-wrapper介绍\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-wrapper介绍\"}},[s._v(\"#\")]),s._v(\" 1.Wrapper介绍\")]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62bfe6d75be16ec74a0f7974.png\",alt:\"image-20220521092812125\"}})]),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"code\",[s._v(\"Wrapper\")]),s._v(\" ： 条件构造抽象类，最顶端父类\\n\"),a(\"ul\",[a(\"li\",[a(\"code\",[s._v(\"AbstractWrapper\")]),s._v(\"： 用于查询条件封装，生成 sql 的 where 条件\")]),s._v(\" \"),a(\"li\",[a(\"code\",[s._v(\"QueryWrapper\")]),s._v(\"： 查询条件封装\")]),s._v(\" \"),a(\"li\",[a(\"code\",[s._v(\"UpdateWrapper\")]),s._v(\"： Update 条件封装\")]),s._v(\" \"),a(\"li\",[a(\"code\",[s._v(\"AbstractLambdaWrapper\")]),s._v(\"： 使用Lambda 语法\\n\"),a(\"ul\",[a(\"li\",[a(\"code\",[s._v(\"LambdaQueryWrapper\")]),s._v(\"：用于Lambda语法使用的查询Wrapper\")]),s._v(\" \"),a(\"li\",[a(\"code\",[s._v(\"LambdaUpdateWrapper\")]),s._v(\"： Lambda 更新封装Wrapper\")])])])])])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_2-querywrapper\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-querywrapper\"}},[s._v(\"#\")]),s._v(\" 2.QueryWrapper\")]),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"组装查询条件\")])]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"执行SQL\")]),s._v(\"：SELECT uid AS id,username AS name,age,email,is_deleted FROM t_user WHERE is_deleted=0 AND (username LIKE ? AND age BETWEEN ? AND ? AND email IS NOT NULL)\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('public void test01(){\\n    //查询用户名包含a，年龄在20到30之间，邮箱信息不为null的用户信息\\n    QueryWrapper<User> queryWrapper = new QueryWrapper<>();\\n    queryWrapper.like(\"username\",\"a\").between(\"age\",20,30).isNotNull(\"email\");\\n    List<User> users = userMapper.selectList(queryWrapper);\\n    users.forEach(System.out::println);\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"组装排序条件\")])]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"执行SQL\")]),s._v(\"：SELECT uid AS id,username AS name,age,email,is_deleted FROM t_user WHERE is_deleted=0 ORDER BY age DESC,id ASC\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('public void test02(){\\n    //查询用户信息，按照年龄的降序排序，若年龄相同，则按照id升序排序\\n    QueryWrapper<User> queryWrapper = new QueryWrapper<>();\\n    queryWrapper.orderByDesc(\"age\").orderByAsc(\"id\");\\n    List<User> users = userMapper.selectList(queryWrapper);\\n    users.forEach(System.out::println);\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"组装删除条件\")])]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"执行SQL\")]),s._v(\"：UPDATE t_user SET is_deleted=1 WHERE is_deleted=0 AND (email IS NULL)\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('public void test03(){\\n    //删除邮箱地址为null的用户信息\\n    QueryWrapper<User> queryWrapper = new QueryWrapper<>();\\n    queryWrapper.isNull(\"email\");\\n    int result = userMapper.delete(queryWrapper);\\n    System.out.println(result > 0 ? \"删除成功！\" : \"删除失败！\");\\n    System.out.println(\"受影响的行数为：\" + result);\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"条件的优先级\")])]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"执行SQL\")]),s._v(\"：UPDATE t_user SET user_name=?, email=? WHERE is_deleted=0 AND (age > ? AND user_name LIKE ? OR email IS NULL)\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('public void test04(){\\n    //将（年龄大于20并且用户名中包含有a）或邮箱为null的用户信息修改\\n    UpdateWrapper<User> updateWrapper = new UpdateWrapper<>();\\n    updateWrapper.gt(\"age\",20).like(\"username\",\"a\").or().isNull(\"email\");\\n    User user = new User();\\n    user.setName(\"Oz\");\\n    user.setEmail(\"test@oz6.com\");\\n\\n    int result = userMapper.update(user, updateWrapper);\\n    System.out.println(result > 0 ? \"修改成功！\" : \"修改失败！\");\\n    System.out.println(\"受影响的行数为：\" + result);\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\")])]),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"执行SQL\")]),s._v(\"：UPDATE t_user SET username=?, email=? WHERE is_deleted=0 AND (username LIKE ? AND (age > ? OR email IS NULL))\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('public void test05(){\\n    //将用户名中包含有a并且（年龄大于20或邮箱为null）的用户信息修改\\n    UpdateWrapper<User> updateWrapper = new UpdateWrapper<>();\\n    updateWrapper.like(\"username\",\"a\").and(i->i.gt(\"age\",20).or().isNull(\"email\"));\\n    User user = new User();\\n    user.setName(\"Vz7797\");\\n    user.setEmail(\"test@ss8o.com\");\\n\\n    int result = userMapper.update(user, updateWrapper);\\n    System.out.println(result > 0 ? \"修改成功！\" : \"修改失败！\");\\n    System.out.println(\"受影响的行数为：\" + result);\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"组装select子句\")])]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"执行SQL\")]),s._v(\"：SELECT username,age,email FROM t_user WHERE is_deleted=0\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('public void test06(){\\n    //查询用户的用户名、年龄、邮箱信息\\n    QueryWrapper<User> queryWrapper = new QueryWrapper<>();\\n    queryWrapper.select(\"username\",\"age\",\"email\");\\n    List<Map<String, Object>> maps = userMapper.selectMaps(queryWrapper);\\n    maps.forEach(System.out::println);\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"实现子查询\")])]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"执行SQL\")]),s._v(\"：SELECT uid AS id,user_name AS name,age,email,is_deleted FROM t_user WHERE is_deleted=0 AND (uid IN (select uid from t_user where uid <= 100))\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('public void test07(){\\n    //查询id小于等于100的用户信息\\n    QueryWrapper<User> queryWrapper = new QueryWrapper<>();\\n    queryWrapper.inSql(\"uid\", \"select uid from t_user where uid <= 100\");\\n    List<User> list = userMapper.selectList(queryWrapper);\\n    list.forEach(System.out::println);\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\")])])])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_3-updatewrapper\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-updatewrapper\"}},[s._v(\"#\")]),s._v(\" 3.UpdateWrapper\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"UpdateWrapper不仅拥有QueryWrapper的组装条件功能，还提供了set方法进行修改对应条件的数据库信息\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('public void test08(){\\n    //将用户名中包含有a并且（年龄大于20或邮箱为null）的用户信息修改\\n    UpdateWrapper<User> updateWrapper = new UpdateWrapper<>();\\n    updateWrapper.like(\"username\",\"a\").and( i -> i.gt(\"age\",20).or().isNull(\"email\")).set(\"email\",\"svip@qq.com\");\\n    int result = userMapper.update(null, updateWrapper);\\n    System.out.println(result > 0 ? \"修改成功！\" : \"修改失败！\");\\n    System.out.println(\"受影响的行数为：\" + result);\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\")])]),a(\"h2\",{attrs:{id:\"_4-condition\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-condition\"}},[s._v(\"#\")]),s._v(\" 4.condition\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"在真正开发的过程中，组装条件是常见的功能，而这些条件数据来源于用户输入，是可选的，因此我们在组装这些条件时，必须先判断用户是否选择了这些条件，若选择则需要组装该条件，若没有选择则一定不能组装，以免影响SQL执行的结果\")])]),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"思路一\")])]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"执行SQL\")]),s._v(\"：SELECT uid AS id,user_name AS name,age,email,is_deleted FROM t_user WHERE is_deleted=0 AND (user_name LIKE ? AND age <= ?)\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(' public void test09(){\\n     String username = \"a\";\\n     Integer ageBegin = null;\\n     Integer ageEnd = 30;\\n     QueryWrapper<User> queryWrapper = new QueryWrapper<>();\\n     if(StringUtils.isNotBlank(username)){\\n         //isNotBlank判断某个字符创是否不为空字符串、不为null、不为空白符\\n         queryWrapper.like(\"user_name\", username);\\n     }\\n     if(ageBegin != null){\\n         queryWrapper.ge(\"age\", ageBegin);\\n     }\\n     if(ageEnd != null){\\n         queryWrapper.le(\"age\", ageEnd);\\n     }\\n     List<User> list = userMapper.selectList(queryWrapper);\\n     list.forEach(System.out::println);\\n }\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"19\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"思路二\")])]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"上面的实现方案没有问题，但是代码比较复杂，我们可以使用带condition参数的重载方法构建查询条件，简化代码的编写\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('public void test10(){\\n    String username = \"a\";\\n    Integer ageBegin = null;\\n    Integer ageEnd = 30;\\n    QueryWrapper<User> queryWrapper = new QueryWrapper<>();\\n    queryWrapper.like(StringUtils.isNotBlank(username), \"user_name\", username)\\n        .ge(ageBegin != null, \"age\", ageBegin)\\n        .le(ageEnd != null, \"age\", ageEnd);\\n    List<User> list = userMapper.selectList(queryWrapper);\\n    list.forEach(System.out::println);\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\")])])])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_5-lambdaquerywrapper\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-lambdaquerywrapper\"}},[s._v(\"#\")]),s._v(\" 5.LambdaQueryWrapper\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"功能等同于QueryWrapper，提供了Lambda表达式的语法可以避免填错列名。\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('public void test11(){\\n    String username = \"a\";\\n    Integer ageBegin = null;\\n    Integer ageEnd = 30;\\n    LambdaQueryWrapper<User> queryWrapper = new LambdaQueryWrapper<>();\\n    queryWrapper.like(StringUtils.isNotBlank(username), User::getName, username)\\n        .ge(ageBegin != null, User::getAge, ageBegin)\\n        .le(ageEnd != null, User::getAge, ageEnd);\\n    List<User> list = userMapper.selectList(queryWrapper);\\n    list.forEach(System.out::println);\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\")])]),a(\"h2\",{attrs:{id:\"_6-lambdaupdatewrapper\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_6-lambdaupdatewrapper\"}},[s._v(\"#\")]),s._v(\" 6.LambdaUpdateWrapper\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"功能等同于UpdateWrapper，提供了Lambda表达式的语法可以避免填错列名。\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('public void test12(){\\n    //将用户名中包含有a并且（年龄大于20或邮箱为null）的用户信息修改\\n    LambdaUpdateWrapper<User> updateWrapper = new LambdaUpdateWrapper<>();\\n    updateWrapper.like(User::getName, \"a\")\\n        .and(i -> i.gt(User::getAge, 20).or().isNull(User::getEmail));\\n    updateWrapper.set(User::getName, \"小黑\").set(User::getEmail,\"abc@atguigu.com\");\\n    int result = userMapper.update(null, updateWrapper);\\n    System.out.println(\"result：\"+result);\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\")])]),a(\"h1\",{attrs:{id:\"六、常用插件\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#六、常用插件\"}},[s._v(\"#\")]),s._v(\" 六、常用插件\")]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_1-分页插件\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-分页插件\"}},[s._v(\"#\")]),s._v(\" 1.分页插件\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"MyBatis Plus自带分页插件，只要简单的配置即可实现分页功能\")])]),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"添加配置类\"),a(\"code\",[s._v(\"MyBatisPlusConfig\")])])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('@Configuration\\n@MapperScan(\"com.atguigu.mybatisplus.mapper\")\\npublic class MyBatisPlusConfig {\\n    @Bean\\n    public MybatisPlusInterceptor mybatisPlusInterceptor(){\\n        MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();\\n        //添加分页插件\\n        interceptor.addInnerInterceptor(new PaginationInnerInterceptor(DbType.MYSQL));\\n        return interceptor;\\n    }\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"编写测试方法\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"@Test\\npublic void testPage(){\\n    //new Page()中的两个参数分别是当前页码，每页显示数量\\n    Page<User> page = userMapper.selectPage(new Page<>(1, 2), null);\\n    List<User> users = page.getRecords();\\n    users.forEach(System.out::println);\\n}\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\")])])])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_2-自定义分页\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-自定义分页\"}},[s._v(\"#\")]),s._v(\" 2.自定义分页\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"上面调用的是MyBatis-Plus提供的带有分页的方法，那么我们自己定义的方法如何实现分页呢？\")])]),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"在\"),a(\"code\",[s._v(\"UserMapper\")]),s._v(\"接口中定义一个方法\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('/**\\n  * 根据年龄查询用户列表，分页显示 \\n  * @param page 分页对象,xml中可以从里面进行取值,传递参数 Page 即自动分页,必须放在第一位 \\n  * @param age 年龄 \\n  * @return \\n  */\\nPage<User> selectPageVo(@Param(\"page\") Page<User> page,@Param(\"age\") Integer age);\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"在\"),a(\"code\",[s._v(\"UserMapper.xml\")]),s._v(\"中编写SQL实现该方法\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('<select id=\"selectPageVo\" resultType=\"User\">\\n    select id,username as name,age,email from t_user where age > #{age}\\n</select>\\nxml\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"编写测试方法\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"@Test\\npublic void testPageVo(){\\n    Page<User> page = userMapper.selectPageVo(new Page<User>(1,2), 20);\\n    List<User> users = page.getRecords();\\n    users.forEach(System.out::println);\\n}\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\")])])])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_3-乐观锁\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-乐观锁\"}},[s._v(\"#\")]),s._v(\" 3.乐观锁\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"作用：当要更新一条记录的时候，希望这条记录没有被别人更新\")])])]),s._v(\" \"),a(\"p\",[s._v(\"乐观锁的实现方式：\")]),s._v(\" \"),a(\"ul\",[a(\"li\",[s._v(\"取出记录时，获取当前 version\")]),s._v(\" \"),a(\"li\",[s._v(\"更新时，带上这个 version\")]),s._v(\" \"),a(\"li\",[s._v(\"执行更新时， set version = newVersion where version = oldVersion\")]),s._v(\" \"),a(\"li\",[s._v(\"如果 version 不对，就更新失败\")])]),s._v(\" \"),a(\"h3\",{attrs:{id:\"_3-1-场景\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-1-场景\"}},[s._v(\"#\")]),s._v(\" 3.1 场景\")]),s._v(\" \"),a(\"hr\"),s._v(\" \"),a(\"ul\",[a(\"li\",[s._v(\"一件商品，成本价是80元，售价是100元。老板先是通知小李，说你去把商品价格增加50元。小李正在玩游戏，耽搁了一个小时。正好一个小时后，老板觉得商品价格增加到150元，价格太高，可能会影响销量。又通知小王，你把商品价格降低30元。\")]),s._v(\" \"),a(\"li\",[s._v(\"此时，小李和小王同时操作商品后台系统。小李操作的时候，系统先取出商品价格100元；小王也在操作，取出的商品价格也是100元。小李将价格加了50元，并将100+50=150元存入了数据库；小王将商品减了30元，并将100-30=70元存入了数据库。是的，如果没有锁，小李的操作就完全被小王的覆盖了。\")]),s._v(\" \"),a(\"li\",[s._v(\"现在商品价格是70元，比成本价低10元。几分钟后，这个商品很快出售了1千多件商品，老板亏1万多。\")])]),s._v(\" \"),a(\"h3\",{attrs:{id:\"_3-2-乐观锁与悲观锁\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-2-乐观锁与悲观锁\"}},[s._v(\"#\")]),s._v(\" 3.2 乐观锁与悲观锁\")]),s._v(\" \"),a(\"hr\"),s._v(\" \"),a(\"ul\",[a(\"li\",[s._v(\"上面的故事，如果是乐观锁，小王保存价格前，会检查下价格是否被人修改过了。如果被修改过了，则重新取出的被修改后的价格，150元，这样他会将120元存入数据库。\")]),s._v(\" \"),a(\"li\",[s._v(\"如果是悲观锁，小李取出数据后，小王只能等小李操作完之后，才能对价格进行操作，也会保证最终的价格是120元。\")])]),s._v(\" \"),a(\"h3\",{attrs:{id:\"_3-3-模拟修改冲突\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-3-模拟修改冲突\"}},[s._v(\"#\")]),s._v(\" 3.3 模拟修改冲突\")]),s._v(\" \"),a(\"hr\"),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"数据库中增加商品表\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"CREATE TABLE t_product ( \\n    id BIGINT(20) NOT NULL COMMENT '主键ID', \\n    NAME VARCHAR(30) NULL DEFAULT NULL COMMENT '商品名称', \\n    price INT(11) DEFAULT 0 COMMENT '价格', \\n    VERSION INT(11) DEFAULT 0 COMMENT '乐观锁版本号', \\n    PRIMARY KEY (id) \\n);\\nsql\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"添加一条数据\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"INSERT INTO t_product (id, NAME, price) VALUES (1, '外星人笔记本', 100);\\nsql\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"添加一个实体类\"),a(\"code\",[s._v(\"Product\")])])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"@Data\\npublic class Product {\\n    private Long id;\\n    private String name;\\n    private Integer price;\\n    private Integer version;\\n}\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"添加一个Mapper接口\"),a(\"code\",[s._v(\"ProductMapper\")])])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"public interface ProductMapper extends BaseMapper<Product> {}\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"测试方法\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('@Test\\npublic void testProduct01(){\\n    //1.小李获取商品价格\\n    Product productLi = productMapper.selectById(1);\\n    System.out.println(\"小李获取的商品价格为：\" + productLi.getPrice());\\n\\n    //2.小王获取商品价格\\n    Product productWang = productMapper.selectById(1);\\n    System.out.println(\"小李获取的商品价格为：\" + productWang.getPrice());\\n\\n    //3.小李修改商品价格+50\\n    productLi.setPrice(productLi.getPrice()+50);\\n    productMapper.updateById(productLi);\\n\\n    //4.小王修改商品价格-30\\n    productWang.setPrice(productWang.getPrice()-30);\\n    productMapper.updateById(productWang);\\n\\n    //5.老板查询商品价格\\n    Product productBoss = productMapper.selectById(1);\\n    System.out.println(\"老板获取的商品价格为：\" + productBoss.getPrice());\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"19\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"20\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"21\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"22\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"23\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"执行结果\")])]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62bfe6d75be16ec74a0f79fd.png\",alt:\"image-20220521225803162\"}})])])]),s._v(\" \"),a(\"h3\",{attrs:{id:\"_3-4-乐观锁解决问题\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-4-乐观锁解决问题\"}},[s._v(\"#\")]),s._v(\" 3.4 乐观锁解决问题\")]),s._v(\" \"),a(\"hr\"),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"实体类\"),a(\"code\",[s._v(\"version\")]),s._v(\"字段添加注解\"),a(\"code\",[s._v(\"@Version\")])])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"@Data\\npublic class Product {\\n    private Long id;\\n    private String name;\\n    private Integer price;\\n    @Version\\n    private Integer version;\\n}\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"添加乐观锁插件配置\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"@Bean\\npublic MybatisPlusInterceptor mybatisPlusInterceptor(){\\n    MybatisPlusInterceptor interceptor = new MybatisPlusInterceptor();\\n    //添加分页插件\\n    interceptor.addInnerInterceptor(new PaginationInnerInterceptor(DbType.MYSQL));\\n    //添加乐观锁插件\\n    interceptor.addInnerInterceptor(new OptimisticLockerInnerInterceptor());\\n    return interceptor;\\n}\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"再次执行测试方法\")])]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"小李查询商品信息：\")]),s._v(\" \"),a(\"p\",[s._v(\"SELECT id,name,price,version FROM t_product WHERE id=?\")]),s._v(\" \"),a(\"p\",[s._v(\"小王查询商品信息：\")]),s._v(\" \"),a(\"p\",[s._v(\"SELECT id,name,price,version FROM t_product WHERE id=?\")]),s._v(\" \"),a(\"p\",[s._v(\"小李修改商品价格，自动将version+1\")]),s._v(\" \"),a(\"p\",[s._v(\"UPDATE t_product SET name=?, price=?, version=? WHERE id=? AND version=?\")]),s._v(\" \"),a(\"p\",[s._v(\"Parameters: 外星人笔记本(String), 150(Integer), 1(Integer), 1(Long), 0(Integer)\")]),s._v(\" \"),a(\"p\",[s._v(\"小王修改商品价格，此时version已更新，条件不成立，修改失败\")]),s._v(\" \"),a(\"p\",[s._v(\"UPDATE t_product SET name=?, price=?, version=? WHERE id=? AND version=?\")]),s._v(\" \"),a(\"p\",[s._v(\"Parameters: 外星人笔记本(String), 70(Integer), 1(Integer), 1(Long), 0(Integer)\")]),s._v(\" \"),a(\"p\",[s._v(\"最终，小王修改失败，查询价格：150\")]),s._v(\" \"),a(\"p\",[s._v(\"SELECT id,name,price,version FROM t_product WHERE id=?\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"优化执行流程\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('@Test\\npublic void testProduct01(){\\n    //1.小李获取商品价格\\n    Product productLi = productMapper.selectById(1);\\n    System.out.println(\"小李获取的商品价格为：\" + productLi.getPrice());\\n\\n    //2.小王获取商品价格\\n    Product productWang = productMapper.selectById(1);\\n    System.out.println(\"小李获取的商品价格为：\" + productWang.getPrice());\\n\\n    //3.小李修改商品价格+50\\n    productLi.setPrice(productLi.getPrice()+50);\\n    productMapper.updateById(productLi);\\n\\n    //4.小王修改商品价格-30\\n    productWang.setPrice(productWang.getPrice()-30);\\n    int result = productMapper.updateById(productWang);\\n    if(result == 0){\\n        //操作失败，重试\\n        Product productNew = productMapper.selectById(1);\\n        productNew.setPrice(productNew.getPrice()-30);\\n        productMapper.updateById(productNew);\\n    }\\n\\n    //5.老板查询商品价格\\n    Product productBoss = productMapper.selectById(1);\\n    System.out.println(\"老板获取的商品价格为：\" + productBoss.getPrice());\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"19\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"20\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"21\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"22\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"23\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"24\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"25\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"26\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"27\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"28\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"29\")]),a(\"br\")])]),a(\"p\",[a(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62bfe6d75be16ec74a0f7a06.png\",alt:\"image-20220521230448577\"}})])])]),s._v(\" \"),a(\"h1\",{attrs:{id:\"七、通用枚举\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#七、通用枚举\"}},[s._v(\"#\")]),s._v(\" 七、通用枚举\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"表中的有些字段值是固定的，例如性别（男或女），此时我们可以使用MyBatis-Plus的通用枚举来实现\")])]),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"数据库表添加字段\"),a(\"code\",[s._v(\"sex\")])])]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62bfe6d75be16ec74a0f7a4d.png\",alt:\"image-20220521231317777\"}})])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"创建通用枚举类型\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('@Getter\\npublic enum SexEnum {\\n    MALE(1, \"男\"),\\n    FEMALE(2, \"女\");\\n\\n    @EnumValue //将注解所标识的属性的值存储到数据库中\\n    private int sex;\\n    private String sexName;\\n\\n    SexEnum(Integer sex, String sexName) {\\n        this.sex = sex;\\n        this.sexName = sexName;\\n    }\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"User实体类中添加属性sex\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('public class User {\\n    private Long id;\\n    @TableField(\"username\")\\n    private String name;\\n    private Integer age;\\n    private String email;\\n\\n    @TableLogic\\n    private int isDeleted;  //逻辑删除\\n\\n    private SexEnum sex;\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"配置扫描通用枚举\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"#MyBatis-Plus相关配置\\nmybatis-plus:\\n  #指定mapper文件所在的地址\\n  mapper-locations: classpath:mapper/*.xml\\n  configuration:\\n    #配置日志\\n    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl\\n  global-config:\\n    banner: off\\n    db-config:\\n      #配置mp的主键策略为自增\\n      id-type: auto\\n      # 设置实体类所对应的表的统一前缀\\n      table-prefix: t_\\n  #配置类型别名所对应的包\\n  type-aliases-package: com.atguigu.mybatisplus.pojo\\n  # 扫描通用枚举的包\\n  type-enums-package: com.atguigu.mybatisplus.enums\\nyml\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"19\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"执行测试方法\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('@Test\\npublic void test(){\\n    User user = new User();\\n    user.setName(\"admin\");\\n    user.setAge(33);\\n    user.setSex(SexEnum.MALE);\\n    int result = userMapper.insert(user);\\n    System.out.println(\"result:\"+result);\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\")])])])]),s._v(\" \"),a(\"h1\",{attrs:{id:\"八、多数据源\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#八、多数据源\"}},[s._v(\"#\")]),s._v(\" 八、多数据源\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"适用于多种场景：纯粹多库、 读写分离、 一主多从、 混合模式等\")])]),s._v(\" \"),a(\"p\",[s._v(\"场景说明：\")]),s._v(\" \"),a(\"p\",[s._v(\"我们创建两个库，分别为：\"),a(\"code\",[s._v(\"mybatis_plus\")]),s._v(\"（以前的库不动）与\"),a(\"code\",[s._v(\"mybatis_plus_1\")]),s._v(\"（新建），将mybatis_plus库的\"),a(\"code\",[s._v(\"product\")]),s._v(\"表移动到mybatis_plus_1库，这样每个库一张表，通过一个测试用例分别获取用户数据与商品数据，如果获取到说明多库模拟成功\")]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_1-创建数据库及表\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-创建数据库及表\"}},[s._v(\"#\")]),s._v(\" 1.创建数据库及表\")]),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"创建数据库\"),a(\"code\",[s._v(\"mybatis_plus_1\")]),s._v(\"和表`product\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"CREATE DATABASE `mybatis_plus_1` /*!40100 DEFAULT CHARACTER SET utf8mb4 */;\\nuse `mybatis_plus_1`; \\nCREATE TABLE product ( \\n    id BIGINT(20) NOT NULL COMMENT '主键ID', \\n    name VARCHAR(30) NULL DEFAULT NULL COMMENT '商品名称', \\n    price INT(11) DEFAULT 0 COMMENT '价格', \\n    version INT(11) DEFAULT 0 COMMENT '乐观锁版本号', \\n    PRIMARY KEY (id) \\n);\\nsql\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"添加测试数据\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"INSERT INTO product (id, NAME, price) VALUES (1, '外星人笔记本', 100);\\nsql\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"删除\"),a(\"code\",[s._v(\"mybatis_plus\")]),s._v(\"库中的\"),a(\"code\",[s._v(\"product\")]),s._v(\"表\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"use mybatis_plus; \\nDROP TABLE IF EXISTS product;\\nsql\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\")])])])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_2-新建工程引入依赖\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-新建工程引入依赖\"}},[s._v(\"#\")]),s._v(\" 2.新建工程引入依赖\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"自行新建一个Spring Boot工程并选择MySQL驱动及Lombok依赖\")])])]),s._v(\" \"),a(\"p\",[a(\"strong\",[s._v(\"引入MyBaits-Plus的依赖及多数据源的依赖\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"<dependency>\\n    <groupId>com.baomidou</groupId>\\n    <artifactId>mybatis-plus-boot-starter</artifactId>\\n    <version>3.5.1</version>\\n</dependency>\\n\\n<dependency>\\n    <groupId>com.baomidou</groupId>\\n    <artifactId>dynamic-datasource-spring-boot-starter</artifactId>\\n    <version>3.5.0</version>\\n</dependency>\\nxml\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\")])]),a(\"h2\",{attrs:{id:\"_3-编写配置文件\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-编写配置文件\"}},[s._v(\"#\")]),s._v(\" 3.编写配置文件\")]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"spring:\\n  # 配置数据源信息\\n  datasource:\\n    dynamic:\\n      # 设置默认的数据源或者数据源组,默认值即为master\\n      primary: master\\n      # 严格匹配数据源,默认false.true未匹配到指定数据源时抛异常,false使用默认数据源\\n      strict: false\\n      datasource:\\n        master:\\n          url: jdbc:mysql://localhost:3306/mybatis_plus?characterEncoding=utf-8&useSSL=false\\n          driver-class-name: com.mysql.cj.jdbc.Driver\\n          username: root\\n          password: 132537\\n        slave_1:\\n          url: jdbc:mysql://localhost:3306/mybatis_plus_1?characterEncoding=utf-8&useSSL=false\\n          driver-class-name: com.mysql.cj.jdbc.Driver\\n          username: root\\n          password: 132537\\nyml\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"18\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"19\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"20\")]),a(\"br\")])]),a(\"h2\",{attrs:{id:\"_4-创建实体类\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-创建实体类\"}},[s._v(\"#\")]),s._v(\" 4.创建实体类\")]),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[s._v(\"新建一个\"),a(\"code\",[s._v(\"User\")]),s._v(\"实体类（如果数据库表名有t_前缀记得配置）\")]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"@Data\\npublic class User {\\n    private Long id;\\n    private String name;\\n    private Integer age;\\n    private String email;\\n}\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"新建一个实体类\"),a(\"code\",[s._v(\"Product\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"@Data\\npublic class Product {\\n    private Long id;\\n    private String name;\\n    private Integer price;\\n    private Integer version;\\n}\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\")])])])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_5-创建mapper及service\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_5-创建mapper及service\"}},[s._v(\"#\")]),s._v(\" 5.创建Mapper及Service\")]),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[s._v(\"新建接口\"),a(\"code\",[s._v(\"UserMapper\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"public interface UserMapper extends BaseMapper<User> {}\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"新建接口\"),a(\"code\",[s._v(\"ProductMapper\")])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"public interface ProductMapper extends BaseMapper<Product> {}\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"新建Service接口\"),a(\"code\",[s._v(\"UserService\")]),s._v(\"指定操作的数据源\")]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('@DS(\"master\") //指定操作的数据源，master为user表\\npublic interface UserService extends IService<User> {}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"新建Service接口\"),a(\"code\",[s._v(\"ProductService\")]),s._v(\"指定操作的数据源\")]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('@DS(\"slave_1\")\\npublic interface ProductService extends IService<Product> {}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"自行建立Service的实现类\")]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"...\\njava\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\")])])])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_6-编写测试方法\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_6-编写测试方法\"}},[s._v(\"#\")]),s._v(\" 6.编写测试方法\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"记得在启动类中添加注解\"),a(\"code\",[s._v(\"@MapperScan()\")])])])]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v('class TestDatasourceApplicationTests {\\n\\t@Resource\\n\\tUserService userService;\\n\\n\\t@Resource\\n\\tProductService productService;\\n\\n\\t@Test\\n\\tvoid contextLoads() {\\n\\t\\tUser user = userService.getById(1L);\\n\\t\\tProduct product = productService.getById(1L);\\n\\t\\tSystem.out.println(\"User = \" + user);\\n\\t\\tSystem.out.println(\"Product = \" + product);\\n\\t}\\n\\n}\\njava\\n')])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"13\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"14\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"15\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"16\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"17\")]),a(\"br\")])]),a(\"p\",[a(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62bfe6d75be16ec74a0f7a8e.png\",alt:\"image-20220522113049945\"}})]),s._v(\" \"),a(\"h1\",{attrs:{id:\"九、mybatisx插件\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#九、mybatisx插件\"}},[s._v(\"#\")]),s._v(\" 九、MyBatisX插件\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"MyBatis-Plus为我们提供了强大的mapper和service模板，能够大大的提高开发效率。\")]),s._v(\" \"),a(\"p\",[s._v(\"但是在真正开发过程中，MyBatis-Plus并不能为我们解决所有问题，例如一些复杂的SQL，多表联查，我们就需要自己去编写代码和SQL语句，我们该如何快速的解决这个问题呢，这个时候可以使用MyBatisX插件。\")]),s._v(\" \"),a(\"p\",[s._v(\"MyBatisX一款基于 IDEA 的快速开发插件，为效率而生。\")])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_1-安装mybatisx插件\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-安装mybatisx插件\"}},[s._v(\"#\")]),s._v(\" 1.安装MyBatisX插件\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[a(\"strong\",[s._v(\"打开IDEA，File-> Setteings->Plugins->MyBatisX，搜索栏搜索MyBatisX然后安装。\")])])]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62bfe6d75be16ec74a0f7b87.png\",alt:\"image-20220522115718361\"}})]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_2-快速生成代码\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-快速生成代码\"}},[s._v(\"#\")]),s._v(\" 2.快速生成代码\")]),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[s._v(\"新建一个Spring Boot项目引入依赖（创建工程时记得勾选lombok及mysql驱动）\")]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"<dependency>\\n    <groupId>com.baomidou</groupId>\\n    <artifactId>mybatis-plus-boot-starter</artifactId>\\n    <version>3.5.1</version>\\n</dependency>\\n\\n<dependency>\\n    <groupId>com.baomidou</groupId>\\n    <artifactId>dynamic-datasource-spring-boot-starter</artifactId>\\n    <version>3.5.0</version>\\n</dependency>\\nxml\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"配置数据源信息\")]),s._v(\" \"),a(\"div\",{staticClass:\"language- line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[s._v(\"spring:\\n  datasource:\\n    type: com.zaxxer.hikari.HikariDataSource\\n    driver-class-name: com.mysql.cj.jdbc.Driver\\n    url: jdbc:mysql://localhost:3306/mybatis_plus?characterEncoding=utf-8&useSSL=false\\n    username: root\\n    password: 132537\\nyml\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"在IDEA中与数据库建立链接\")]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62bfe6d75be16ec74a0f7a8d.png\",alt:\"image-20220522120758740\"}})])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"填写数据库信息并保存\")]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62bfe6d85be16ec74a0f7be0.png\",alt:\"image-20220522121434468\"}})])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"找到我们需要生成的表点击右键\")]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62bfe6d85be16ec74a0f7be4.png\",alt:\"image-20220522121613909\"}})])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"填写完信息以后下一步\")]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62bfe6d85be16ec74a0f7be8.png\",alt:\"image-20220522122127649\"}})])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"继续填写信息\")]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62bfe6d85be16ec74a0f7c6e.png\",alt:\"image-20220522122525598\"}})])]),s._v(\" \"),a(\"li\",[a(\"p\",[a(\"strong\",[s._v(\"大功告成（真特么好用yyds）\")])]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62bfe6d85be16ec74a0f7c05.png\",alt:\"image-20220522122612334\"}})])])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"_3-快速生成crud\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-快速生成crud\"}},[s._v(\"#\")]),s._v(\" 3.快速生成CRUD\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"MyBaitsX可以根据我们在Mapper接口中输入的方法名快速帮我们生成对应的sql语句\")])]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62bfe6d85be16ec74a0f7c9b.png\",alt:\"image-20220522123143852\"}})]),s._v(\" \"),a(\"p\",[a(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62bfe6d85be16ec74a0f7d09.png\",alt:\"image-20220522123202310\"}})])])}),[],!1,null,null,null);a.default=t.exports}}]);","extractedComments":[]}