{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{309:function(t,_,v){\"use strict\";v.r(_);var i=v(10),a=Object(i.a)({},(function(){var t=this,_=t._self._c;return _(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[_(\"h2\",{attrs:{id:\"rabbitmq安装\"}},[_(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#rabbitmq安装\"}},[t._v(\"#\")]),t._v(\" RabbitMQ安装\")]),t._v(\" \"),_(\"p\",[t._v(\"使用Docker安装，在dockerhub中搜索rabbitmq\")]),t._v(\" \"),_(\"p\",[_(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62e65f148c61dc3b8ee14367.png\",alt:\"image-20220731185307849\"}})]),t._v(\" \"),_(\"p\",[t._v(\"不带management的是没有web管理页面的，需要通过命令来安装。\")]),t._v(\" \"),_(\"p\",[t._v(\"本次选择3.10.6-management版本\")]),t._v(\" \"),_(\"p\",[_(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62e65f828c61dc3b8ee1aae4.png\",alt:\"image-20220731185458254\"}})]),t._v(\" \"),_(\"p\",[t._v(\"安装命令\")]),t._v(\" \"),_(\"div\",{staticClass:\"language-bash line-numbers-mode\"},[_(\"pre\",{pre:!0,attrs:{class:\"language-bash\"}},[_(\"code\",[_(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"docker\")]),t._v(\" run -d --hostname my-rabbit --name some-rabbit rabbitmq:3-management\\n\")])]),t._v(\" \"),_(\"div\",{staticClass:\"line-numbers-wrapper\"},[_(\"span\",{staticClass:\"line-number\"},[t._v(\"1\")]),_(\"br\")])]),_(\"p\",[t._v(\"运行命令\")]),t._v(\" \"),_(\"div\",{staticClass:\"language- line-numbers-mode\"},[_(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[_(\"code\",[t._v(\"docker run -d --hostname my-rabbit --name rabbit01 -p 15672:15672 -p 5672:5672 rabbitmq:3-management\\n\")])]),t._v(\" \"),_(\"div\",{staticClass:\"line-numbers-wrapper\"},[_(\"span\",{staticClass:\"line-number\"},[t._v(\"1\")]),_(\"br\")])]),_(\"p\",[t._v(\"⚠️记得开启服务器对应的防火墙～\")]),t._v(\" \"),_(\"h2\",{attrs:{id:\"rabbitmq-管理页面\"}},[_(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#rabbitmq-管理页面\"}},[t._v(\"#\")]),t._v(\" RabbitMQ 管理页面\")]),t._v(\" \"),_(\"p\",[_(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62e662718c61dc3b8ee48078.png\",alt:\"image-20220731190729538\"}})]),t._v(\" \"),_(\"p\",[t._v(\"默认的账号密码均为：guest\")]),t._v(\" \"),_(\"p\",[_(\"img\",{attrs:{src:\"https://pic.imgdb.cn/item/62e662d58c61dc3b8ee4de1b.png\",alt:\"image-20220731190908319\"}})]),t._v(\" \"),_(\"p\",[t._v(\"首先一共有六个选项卡：\")]),t._v(\" \"),_(\"ol\",[_(\"li\",[t._v(\"Overview：这里可以概览 RabbitMQ 的整体情况，如果是集群，也可以查看集群中各个节点的情况。包括 RabbitMQ 的端口映射信息等，都可以在这个选项卡中查看。\")]),t._v(\" \"),_(\"li\",[t._v(\"Connections：这个选项卡中是连接上 RabbitMQ 的生产者和消费者的情况。\")]),t._v(\" \"),_(\"li\",[t._v(\"Channels：这里展示的是“通道”信息，关于“通道”和“连接”的关系，松哥在后文再和大家详细介绍。\")]),t._v(\" \"),_(\"li\",[t._v(\"Exchange：这里展示所有的交换机信息。\")]),t._v(\" \"),_(\"li\",[t._v(\"Queue：这里展示所有的队列信息。\")]),t._v(\" \"),_(\"li\",[t._v(\"Admin：这里展示所有的用户信息。\")])]),t._v(\" \"),_(\"p\",[t._v(\"右上角是页面刷新的时间，默认是 5 秒刷新一次，展示的是所有的 Virtual host。\")]),t._v(\" \"),_(\"p\",[t._v(\"这是整个管理页面的一个大致情况，接下来我们来逐个介绍。\")]),t._v(\" \"),_(\"h3\",{attrs:{id:\"overview\"}},[_(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#overview\"}},[t._v(\"#\")]),t._v(\" OverView\")]),t._v(\" \"),_(\"p\",[_(\"img\",{attrs:{src:\"https://mmbiz.qpic.cn/mmbiz_png/GvtDGKK4uYkQuwiab3o4x3ZE1ugPGl57Z1mIMbf3Lwd5CibYfFVwHAYdO3kXJaXG6r0NLnXibSrwVyib3qcYN5ZGgQ/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1\",alt:\"图片\"}})]),t._v(\" \"),_(\"p\",[_(\"strong\",[t._v(\"Totals：\")])]),t._v(\" \"),_(\"p\",[t._v(\"Totals 里面有 准备消费的消息数、待确认的消息数、消息总数以及消息的各种处理速率（发送速率、确认速率、写入硬盘速率等等）。\")]),t._v(\" \"),_(\"p\",[_(\"img\",{attrs:{src:\"https://mmbiz.qpic.cn/mmbiz_png/GvtDGKK4uYkQuwiab3o4x3ZE1ugPGl57ZDQ7VibmPiclEMU25AkfaBBLHUaiaxzoO2LLibIDWO7YUVZbRsZtrGibKIvQ/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1\",alt:\"图片\"}})]),t._v(\" \"),_(\"p\",[_(\"strong\",[t._v(\"Nodes：\")])]),t._v(\" \"),_(\"p\",[t._v(\"Nodes 其实就是支撑 RabbitMQ 运行的一些机器，相当于集群的节点。\")]),t._v(\" \"),_(\"p\",[_(\"img\",{attrs:{src:\"https://mmbiz.qpic.cn/mmbiz_png/GvtDGKK4uYkQuwiab3o4x3ZE1ugPGl57ZdT1NDLezeDkjO17GPS3XyjXEPujEEic5gtygSDSQSCq1VnvdUeSJvGQ/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1\",alt:\"图片\"}})]),t._v(\" \"),_(\"p\",[t._v(\"点击每个节点，可以查看节点的详细信息。\")]),t._v(\" \"),_(\"p\",[_(\"strong\",[t._v(\"Churn statistics：\")])]),t._v(\" \"),_(\"p\",[t._v(\"里边展示的是 Connection、Channel 以及 Queue 的创建/关闭速率。\")]),t._v(\" \"),_(\"p\",[_(\"img\",{attrs:{src:\"https://mmbiz.qpic.cn/mmbiz_png/GvtDGKK4uYkQuwiab3o4x3ZE1ugPGl57ZPomAKSPJn3ibcVzBYEzicxbe3MjMl9Q1WnUSaPJe8NzUiakw7x59pp0pw/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1\",alt:\"图片\"}})]),t._v(\" \"),_(\"p\",[_(\"strong\",[t._v(\"Ports and contexts：\")])]),t._v(\" \"),_(\"p\",[_(\"img\",{attrs:{src:\"https://mmbiz.qpic.cn/mmbiz_png/GvtDGKK4uYkQuwiab3o4x3ZE1ugPGl57ZNia8X62Ylxz1YlATe83EibovCq8pmLibvNw2tkx1gNKkorLWqckdUvnjw/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1\",alt:\"图片\"}})]),t._v(\" \"),_(\"p\",[t._v(\"这个里边展示了端口的映射信息以及 Web 的上下文信息。\")]),t._v(\" \"),_(\"ul\",[_(\"li\",[t._v(\"5672 是 RabbitMQ 通信端口。\")]),t._v(\" \"),_(\"li\",[t._v(\"15672 是 Web 管理页面端口。\")]),t._v(\" \"),_(\"li\",[t._v(\"25672 是集群通信端口。\")])]),t._v(\" \"),_(\"p\",[_(\"strong\",[t._v(\"Export definitions\")]),t._v(\" && \"),_(\"strong\",[t._v(\"Import definitions：\")])]),t._v(\" \"),_(\"p\",[t._v(\"最后面这两个可以导入导出当前实例的一些配置信息：\")]),t._v(\" \"),_(\"p\",[_(\"img\",{attrs:{src:\"https://mmbiz.qpic.cn/mmbiz_png/GvtDGKK4uYkQuwiab3o4x3ZE1ugPGl57Z5GcXVFE5cyaX4qm97icic7nnsibeusjtHszk3KKj1LGQDdma9XcvWMwUQ/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1\",alt:\"图片\"}})]),t._v(\" \"),_(\"h3\",{attrs:{id:\"connections\"}},[_(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#connections\"}},[t._v(\"#\")]),t._v(\" Connections\")]),t._v(\" \"),_(\"p\",[t._v(\"这里主要展示的是当前连接上 RabbitMQ 的信息，无论是消息生产者还是消息消费者，只要连接上来了这里都会显示出来。\")]),t._v(\" \"),_(\"p\",[_(\"img\",{attrs:{src:\"https://mmbiz.qpic.cn/mmbiz_png/GvtDGKK4uYkQuwiab3o4x3ZE1ugPGl57ZiaBJNY3q7QVXEOwDduP2hdQ9bcSjPjckiccC4ibAGugJvfr3SJ9T17UxA/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1\",alt:\"图片\"}})]),t._v(\" \"),_(\"p\",[t._v(\"注意协议中的 AMQP 0-9-1 指的是 AMQP 协议的版本号。\")]),t._v(\" \"),_(\"p\",[t._v(\"其他属性含义如下：\")]),t._v(\" \"),_(\"ul\",[_(\"li\",[t._v(\"User name：当前连接使用的用户名。\")]),t._v(\" \"),_(\"li\",[t._v(\"State：当前连接的状态，running 表示运行中；idle 表示空闲。\")]),t._v(\" \"),_(\"li\",[t._v(\"SSL/TLS：表示是否使用 ssl 进行连接。\")]),t._v(\" \"),_(\"li\",[t._v(\"Channels：当前连接创建的通道总数。\")]),t._v(\" \"),_(\"li\",[t._v(\"From client：每秒发出的数据包。\")]),t._v(\" \"),_(\"li\",[t._v(\"To client：每秒收到的数据包。\")])]),t._v(\" \"),_(\"p\",[t._v(\"点击连接名称可以查看每一个连接的详情。\")]),t._v(\" \"),_(\"p\",[t._v(\"在详情中可以查看每一个连接的通道数以及其他详细信息，也可以强制关闭一个连接。\")]),t._v(\" \"),_(\"h3\",{attrs:{id:\"channels\"}},[_(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#channels\"}},[t._v(\"#\")]),t._v(\" Channels\")]),t._v(\" \"),_(\"p\",[t._v(\"这个地方展示的是通道的消息：\")]),t._v(\" \"),_(\"p\",[_(\"img\",{attrs:{src:\"https://mmbiz.qpic.cn/mmbiz_png/GvtDGKK4uYkQuwiab3o4x3ZE1ugPGl57ZatPD7JfoBbYh0QwdRlibp2P4zpTejX5pgTr9fOrS202Yalgb0Fb1YCA/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1\",alt:\"图片\"}})]),t._v(\" \"),_(\"p\",[_(\"strong\",[t._v(\"通道：\")])]),t._v(\" \"),_(\"p\",[t._v(\"一个连接（IP）可以有多个通道，如上图，一共是两个连接，但是一共有 12 个通道。\")]),t._v(\" \"),_(\"p\",[t._v(\"一个连接可以有多个通道，这个多个通道通过多线程实现，一般情况下，我们在通道中创建队列、交换机等。\")]),t._v(\" \"),_(\"p\",[t._v(\"生产者的通道一般会立马关闭；消费者是一直监听的，通道几乎是会一直存在。\")]),t._v(\" \"),_(\"p\",[t._v(\"上面各项参数含义分别如下：\")]),t._v(\" \"),_(\"ul\",[_(\"li\",[t._v(\"Channel：通道名称。\")]),t._v(\" \"),_(\"li\",[t._v(\"User name：该通道登录使用的用户名。\")]),t._v(\" \"),_(\"li\",[t._v(\"Model：通道确认模式，C 表示 confirm；T 表示事务。\")]),t._v(\" \"),_(\"li\",[t._v(\"State：通道当前的状态，running 表示运行中；idle 表示空闲。\")]),t._v(\" \"),_(\"li\",[t._v(\"Unconfirmed：待确认的消息总数。\")]),t._v(\" \"),_(\"li\",[t._v(\"Prefetch：Prefetch 表示每个消费者最大的能承受的未确认消息数目，简单来说就是用来指定一个消费者一次可以从 RabbitMQ 中获取多少条消息并缓存在消费者中，一旦消费者的缓冲区满了，RabbitMQ 将会停止投递新的消息到该消费者中直到它发出有消息被 ack 了。总的来说，消费者负责不断处理消息，不断 ack，然后只要 unAcked 数少于 prefetch * consumer 数目，RabbitMQ 就不断将消息投递过去。\")]),t._v(\" \"),_(\"li\",[t._v(\"Unacker：待 ack 的消息总数。\")]),t._v(\" \"),_(\"li\",[t._v(\"publish：消息生产者发送消息的速率。\")]),t._v(\" \"),_(\"li\",[t._v(\"confirm：消息生产者确认消息的速率。\")]),t._v(\" \"),_(\"li\",[t._v(\"unroutable (drop)：表示未被接收，且已经删除了的消息。\")]),t._v(\" \"),_(\"li\",[t._v(\"deliver/get：消息消费者获取消息的速率。\")]),t._v(\" \"),_(\"li\",[t._v(\"ack：消息消费者 ack 消息的速率。\")])]),t._v(\" \"),_(\"h3\",{attrs:{id:\"exchange\"}},[_(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#exchange\"}},[t._v(\"#\")]),t._v(\" Exchange\")]),t._v(\" \"),_(\"p\",[t._v(\"这个地方展示交换机信息：\")]),t._v(\" \"),_(\"p\",[_(\"img\",{attrs:{src:\"https://mmbiz.qpic.cn/mmbiz_png/GvtDGKK4uYkQuwiab3o4x3ZE1ugPGl57ZjoulfXxBc3jO00gHUoxxEEokdxdaiawajNERcVnwouENDbEficnxqOmw/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1\",alt:\"图片\"}})]),t._v(\" \"),_(\"p\",[t._v(\"这里会展示交换机的各种信息。\")]),t._v(\" \"),_(\"p\",[t._v(\"Type 表示交换机的类型。\")]),t._v(\" \"),_(\"p\",[t._v(\"Features 有两个取值 D 和 I。\")]),t._v(\" \"),_(\"p\",[t._v(\"D 表示交换机持久化，将交换机的属性在服务器内部保存，当 MQ 的服务器发生意外或关闭之后，重启 RabbitMQ 时不需要重新手动或执行代码去建立交换机，交换机会自动建立，相当于一直存在。\")]),t._v(\" \"),_(\"p\",[t._v(\"I 表示这个交换机不可以被消息生产者用来推送消息，仅用来进行交换机和交换机之间的绑定。\")]),t._v(\" \"),_(\"p\",[t._v(\"Message rate in 表示消息进入的速率。Message rate out 表示消息出去的速率。\")]),t._v(\" \"),_(\"p\",[t._v(\"点击下方的 \"),_(\"strong\",[t._v(\"Add a new exchange\")]),t._v(\" 可以创建一个新的交换机。\")]),t._v(\" \"),_(\"h3\",{attrs:{id:\"queue\"}},[_(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#queue\"}},[t._v(\"#\")]),t._v(\" Queue\")]),t._v(\" \"),_(\"p\",[t._v(\"这个选项卡就是用来展示消息队列的：\")]),t._v(\" \"),_(\"p\",[_(\"img\",{attrs:{src:\"https://mmbiz.qpic.cn/mmbiz_png/GvtDGKK4uYkQuwiab3o4x3ZE1ugPGl57Z7SAZ0dqhtmwDNkOhyDoQP9FtiaUn3k8RSJYR0bWEichDEQz81kPNOUfg/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1\",alt:\"图片\"}})]),t._v(\" \"),_(\"p\",[t._v(\"各项含义如下：\")]),t._v(\" \"),_(\"ul\",[_(\"li\",[t._v(\"Name：表示消息队列名称。\")]),t._v(\" \"),_(\"li\",[t._v(\"Type：表示消息队列的类型，除了上图的 classic，另外还有一种消息类型是 Quorum。两个区别如下图：\")])]),t._v(\" \"),_(\"p\",[_(\"img\",{attrs:{src:\"https://mmbiz.qpic.cn/mmbiz_png/GvtDGKK4uYkQuwiab3o4x3ZE1ugPGl57ZQ4LcMg0F5RUVVbNPcT3ibFQwUZC11j0vNv0mGSBGAJ3WPHCaxtKePiaA/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1\",alt:\"图片\"}})]),t._v(\" \"),_(\"ul\",[_(\"li\",[t._v(\"Features：表示消息队列的特性，D 表示消息队列持久化。\")]),t._v(\" \"),_(\"li\",[t._v(\"State：表示当前队列的状态，running 表示运行中；idle 表示空闲。\")]),t._v(\" \"),_(\"li\",[t._v(\"Ready：表示待消费的消息总数。\")]),t._v(\" \"),_(\"li\",[t._v(\"Unacked：表示待应答的消息总数。\")]),t._v(\" \"),_(\"li\",[t._v(\"Total：表示消息总数 Ready+Unacked。\")]),t._v(\" \"),_(\"li\",[t._v(\"incoming：表示消息进入的速率。\")]),t._v(\" \"),_(\"li\",[t._v(\"deliver/get：表示获取消息的速率。\")]),t._v(\" \"),_(\"li\",[t._v(\"ack：表示消息应答的速率。\")])]),t._v(\" \"),_(\"p\",[t._v(\"点击下方的 Add a new queue 可以添加一个新的消息队列。\")]),t._v(\" \"),_(\"p\",[t._v(\"点击每一个消息队列的名称，可以进入到消息队列中。进入到消息队列后，可以完成对消息队列的进一步操作，例如：\")]),t._v(\" \"),_(\"ul\",[_(\"li\",[t._v(\"将消息队列和某一个交换机进行绑定。\")]),t._v(\" \"),_(\"li\",[t._v(\"发送消息。\")]),t._v(\" \"),_(\"li\",[t._v(\"获取一条消息。\")]),t._v(\" \"),_(\"li\",[t._v(\"移动一条消息（需要插件的支持）。\")]),t._v(\" \"),_(\"li\",[t._v(\"删除消息队列。\")]),t._v(\" \"),_(\"li\",[t._v(\"清空消息队列中的消息。\")]),t._v(\" \"),_(\"li\",[t._v(\"...\")])]),t._v(\" \"),_(\"p\",[t._v(\"如下图：\")]),t._v(\" \"),_(\"p\",[_(\"img\",{attrs:{src:\"https://mmbiz.qpic.cn/mmbiz_png/GvtDGKK4uYkQuwiab3o4x3ZE1ugPGl57ZP5ptm7QV00LyyEV31ZHnrJelKjx6686WiaLn4Nnyia6H2Sl0sLIXuaUw/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1\",alt:\"图片\"}})]),t._v(\" \"),_(\"h3\",{attrs:{id:\"admin\"}},[_(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#admin\"}},[t._v(\"#\")]),t._v(\" Admin\")]),t._v(\" \"),_(\"p\",[t._v(\"这里是做一些用户管理操作，如下图：\")]),t._v(\" \"),_(\"p\",[_(\"img\",{attrs:{src:\"https://mmbiz.qpic.cn/mmbiz_png/GvtDGKK4uYkQuwiab3o4x3ZE1ugPGl57ZEPfYonXl069eLll3EVfBXwSJYv74Z8F5NLBl9uCwz9BUURy0j1R5QQ/640?wx_fmt=png&wxfrom=5&wx_lazy=1&wx_co=1\",alt:\"图片\"}})]),t._v(\" \"),_(\"p\",[t._v(\"各项属性含义如下：\")]),t._v(\" \"),_(\"ul\",[_(\"li\",[t._v(\"Name：表示用户名称。\")]),t._v(\" \"),_(\"li\",[t._v(\"Tags：表示角色标签，只能选取一个。\")]),t._v(\" \"),_(\"li\",[t._v(\"Can access virtual hosts：表示允许进入的虚拟主机。\")]),t._v(\" \"),_(\"li\",[t._v(\"Has password：表示这个用户是否设置了密码。\")])]),t._v(\" \"),_(\"p\",[t._v(\"常见的两个操作时管理用户和虚拟主机。\")]),t._v(\" \"),_(\"p\",[t._v(\"点击下方的 Add a user 可以添加一个新的用户，添加用户的时候需要给用户设置 Tags，其实就是用户角色，如下：\")]),t._v(\" \"),_(\"ul\",[_(\"li\",[t._v(\"none：不能访问 management plugin\")]),t._v(\" \"),_(\"li\",[t._v(\"management：用户可以通过 AMQP 做的任何事 列出自己可以通过 AMQP 登入的 virtual hosts 查看自己的 virtual hosts 中的 queues, exchanges 和 bindings 查看和关闭自己的 channels 和 connections 查看有关自己的 virtual hosts 的“全局”的统计信息，包含其他用户在这些 virtual hosts 中的活动\")]),t._v(\" \"),_(\"li\",[t._v(\"policymaker：management 可以做的任何事 查看、创建和删除自己的 virtual hosts 所属的 policies 和 parameters\")]),t._v(\" \"),_(\"li\",[t._v(\"monitoring：management 可以做的任何事 列出所有 virtual hosts，包括他们不能登录的 virtual hosts 查看其他用户的 connections 和 channels 查看节点级别的数据如 clustering 和 memory 使用情况 查看真正的关于所有 virtual hosts 的全局的统计信息\")]),t._v(\" \"),_(\"li\",[t._v(\"administrator：policymaker 和 monitoring 可以做的任何事 创建和删除 virtual hosts 查看、创建和删除 users 查看创建和删除 permissions 关闭其他用户的 connections\")]),t._v(\" \"),_(\"li\",[t._v(\"impersonator(模拟者) 模拟者，无法登录管理控制台。\")])])])}),[],!1,null,null,null);_.default=a.exports}}]);","extractedComments":[]}